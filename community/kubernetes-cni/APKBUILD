# Maintainer: Anthony Davies <anthony.t.davies@gmail.com>
pkgname=kubernetes-cni
pkgver=0.8.3
pkgrel=0
pkgdesc="Container Networking Interface Plugins"
url="https://github.com/containernetworking/plugins/"
arch="x86_64 armhf armv7 aarch64"
license="Apache-2.0"
options="!fhs !check"
depends="kubernetes-cni"
makedepends="bash coreutils findutils go linux-headers rsync grep musl-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/containernetworking/plugins/archive/v$pkgver.tar.gz"
builddir="$srcdir/plugins-$pkgver"

build() {
        cd "$builddir"
        ./build_linux.sh
}

package() {
        cd "$builddir"
        install -dm755 "$pkgdir"/opt/cni/bin
        install -m755 bin/* "$pkgdir"/opt/cni/bin/
}
sha512sums="054479a73ddbfbdb2986ac202ae2da7a69ae7bb693a250885f950a26973c60be3053d4e95ca24cf5eb67c104b9af8231f859e22c01a066ce3a206a186fc55a6d  kubernetes-cni-0.8.3.tar.gz"
